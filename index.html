<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="dist/simplemde.min.css" rel="stylesheet">
    <link href="src/css/editor-style.css" rel="stylesheet">
</head>
<body>
<textarea></textarea>
<script src="debug/simplemde.js"></script>
<script>
    var simplemde = new SimpleMDE({
        spellChecker: false,
        mode: "gfm"
    });
    
    simplemde.defineMode("comment",
        function() {

            return {
                token: function(stream, state) {
                    if (stream.match(/(\%\d\%)/)) {
                        if (!stream.eatWhile(/[\w\s\*\.\>]/)) {
                            return null;
                        }

                        if (stream.match(/(\%\d\%)/)) {
                            return "comment";
                        }
                    }
                    while (stream.next() != null && !stream.match(/(\%\d\%)/, false)) { return null; }
                    
                }
            };

        });

    simplemde.codemirror.addOverlay("comment");

</script>
</body>
</html>